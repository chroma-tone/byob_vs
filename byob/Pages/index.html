<!DOCTYPE html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8"> 
    <title>BYOB</title>  
	<script type = "text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type = "text/javascript" src="http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
	<script type = "text/javascript" src="/processing-1.4.1.js"></script>
	<script type = "text/javascript" src="/processing-anim.js" ></script>
	<script type = "text/javascript" >


	$(document).ready(function(){

	    
		//var processingInstance = new Processing("canvas1", sketchProc);
	});

	</script>
	
	<script type = "text/javascript" src="scriptcam-master/scriptcam.js"></script>
	<script type = "text/javascript"> 
		$(document).ready(function() {
		    $("#webcam").scriptcam({
		        width: 640,
		        height: 480,
				showMicrophoneErrors:false,
				onError:onError,
				cornerRadius:20,
				cornerColor:'e3e5e2',
				onWebcamReady:onWebcamReady,
				uploadImage:'upload.gif',
				onPictureAsBase64: base64_tofield_and_image,
               
			});
		});
       
		function base64_tofield() {
			$('#formfield').val($.scriptcam.getFrameAsBase64());
		};
		function base64_toimage() {
			$('#image').attr("src","data:image/png;base64,"+$.scriptcam.getFrameAsBase64());
		};
		function base64_tofield_and_image(b64) {
			$('#formfield').val(b64);
			$('#image').attr("src","data:image/png;base64,"+b64);
		};
		function changeCamera() {
			$.scriptcam.changeCamera($('#cameraNames').val());
		}
		function onError(errorId,errorMsg) {
			$( "#btn1" ).attr( "disabled", true );
			$( "#btn2" ).attr( "disabled", true );
			alert(errorMsg);
		}			
		function onWebcamReady(cameraNames,camera,microphoneNames,microphone,volume) {
			/*$.each(cameraNames, function(index, text) {
				$('#cameraNames').append( $('<option></option>').val(index).html(text) )
			}); 
			$('#cameraNames').val(camera);*/
		    $('#' + data.id).get(0).SC_changeCamera(cameraNames[0]);
		}
	</script> 
	
</head> 
 
<body> 
    <header>
		
	
	</header>
	<p>
	<!--<canvas id="canvas1" width="200" height="200"></canvas>-->
	</p>
	<div style="width:900px; margin-left:auto; margin-right:auto; margin-top:60px; padding:0px;">
			<div id="webcam">
			</div>
			
		</div>
		<div style="width:135px;float:left;">
			<p><button class="btn btn-small" id="btn1" onclick="base64_tofield()">Snapshot to form</button></p>
			<p><button class="btn btn-small" id="btn2" onclick="base64_toimage()">Snapshot to image</button></p>
		</div>
		<div style="width:200px;float:left;">
			<p><textarea id="formfield" style="width:190px;height:70px;"></textarea></p>
			<p><img id="image" style="width:200px;height:153px;"/></p>
		</div>
	
	
</body>
</html>
